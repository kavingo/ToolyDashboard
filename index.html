<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Tooly Dashboard</title>
<style>
body{font-family:system-ui;background:#202225;color:#fff;padding:40px}
input,button,textarea{padding:8px;border:none;border-radius:6px;margin:6px;background:#2f3136;color:#fff}
</style>
</head>
<body>

<h1>Tooly Dashboard</h1>
<section id="info">üîÑ ready</section>

<h3>Mass DM</h3>
<textarea id="txt" rows="4" placeholder="Message to send"></textarea><br>
<button id="go">Queue</button>

<script>
const code   = new URLSearchParams(location.search).get('c');
if(!code){ document.getElementById('info').textContent='‚ùå no code'; throw ''; }

document.getElementById('go').onclick = async () =>{
  const text = document.getElementById('txt').value.trim();
  if(!text) return alert("empty");

  const res = await fetch("https://YOUR-VDS-HOST:9000/dash/queue",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ code, command:"massdm", args:{text} })
  });
  const j = await res.json();
  document.getElementById('info').textContent =
      j.status === "ok" ? "‚úÖ queued!" : "‚ùå "+j.status;
};
</script>
</body>
</html>
